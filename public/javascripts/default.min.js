function rambler(t,e,i){return ticketManager.hallPlanV2(t,e,i),!1}$(function(){function t(t){return t==x?"любая":t+" руб."}function e(t,e){"undefined"==typeof e&&(e=1e3),t.addClass("hidden")}function i(t,e){"undefined"==typeof e&&(e=1e3),t.removeClass("hidden")}function n(t,e){"undefined"==typeof e&&(e=1e3),t.toggleClass("hidden")}function r(){$("td.cell-screenings").each(function(){a($(this))||o($(this))?e($(this)):i($(this))}),$("tr.row-entity").each(function(){0==$(this).find("td.cell-screenings").not(".hidden").size()?e($(this)):i($(this))}),$(".header-day").each(function(){0==$(this).next("table").find("tr.row-entity").not(".hidden").size()?(e($(this)),e($(this).next("table"))):(i($(this)),i($(this).next("table")))}),0==$(".header-day").not(".hidden").size()?i($("#nothing-found")):e($("#nothing-found"))}function a(t){return price=t.attr("attr-price"),(price>C||"undefined"==typeof price)&&x>C}function o(t){return time=t.attr("attr-time-of-day"),!("all-day"==w||time==w)}function s(t){var e=["#button-trailer-original","#button-trailer-dubbed"];e.forEach(function(t){$(t).removeClass("active")}),$(t).addClass("active")}function l(t){$(t).find('iframe[src="about:blank"]').prop("src",function(){return $(this).data("src")})}function c(t){var e=["#button-sort-title","#button-sort-date","#button-sort-imdb","#button-sort-kinopoisk","#button-sort-screenings","#button-sort-language"];e.forEach(function(t){$(t).removeClass("active")}),$(t).addClass("active")}function u(t,e,i){c(t),buttonSortPressedPrev=y,y=e,y!=buttonSortPressedPrev&&$("#movie-plates .movie-plate").sort(i).appendTo("#movie-plates")}function d(t){var e=["#button-morning","#button-day","#button-evening","#button-all-day"];e.forEach(function(t){$(t).removeClass("active")}),$(t).addClass("active")}function b(t,e){d(t),buttonFilterPressedPrev=w,w=e,w!=buttonFilterPressedPrev&&r()}function f(t,e){var i=["attr-imdb","attr-kinopoisk"],n=parseFloat($(t).attr(i[0])),r=parseFloat($(e).attr(i[0]));return n==r&&(n=parseFloat($(t).attr(i[1])),r=parseFloat($(e).attr(i[1]))),n>r?-1:1}function h(t,e){var i=["attr-kinopoisk","attr-imdb"],n=parseFloat($(t).attr(i[0])),r=parseFloat($(e).attr(i[0]));return n==r&&(n=parseFloat($(t).attr(i[1])),r=parseFloat($(e).attr(i[1]))),n>r?-1:1}function v(t,e){var i=["attr-created"],n=parseInt($(t).attr(i[0])),r=parseInt($(e).attr(i[0]));return n>r?-1:1}function g(t,e){var i=["attr-language"],n=$(t).attr(i[0]).toLowerCase(),r=$(e).attr(i[0]).toLowerCase();return n?r?n==r?p(t,e):r>n?-1:1:-1:1}function p(t,e){var i=["attr-title"],n=$(t).attr(i[0]).toLowerCase(),r=$(e).attr(i[0]).toLowerCase();return r>n?-1:1}function m(t,e){var i=["attr-screenings"],n=parseInt($(t).attr(i[0])),r=parseInt($(e).attr(i[0]));return n>r?-1:1}function k(){$("a.price-button:not(.disabled)").each(function(){timestamp=parseInt($(this).parent().attr("attr-time")),current=(new Date).getTime()/1e3,!isNaN(timestamp)&&1800>timestamp-current&&$(this).addClass("disabled")})}var w,C,y,P,F=100,x=600,I=50,T="#price-slider";$(T).slider({value:x,min:F,max:x,step:I,slide:function(e,i){$("#ticket-price").text(t(i.value))},change:function(e,i){$("#ticket-price").text(t(i.value)),priceSliderValuePrev=C,C=i.value,priceSliderValuePrev!=C&&r()}}),$("#button-trailer-original").click(function(){$("#trailer-original").show(),$("#trailer-dubbed").hide(),$("#button-trailer-original").addClass("active"),$("#button-trailer-dubbed").removeClass("active"),l($("#trailer-dubbed"))}),$("#button-trailer-dubbed").click(function(){$("#trailer-dubbed").show(),$("#trailer-original").hide(),$("#button-trailer-dubbed").addClass("active"),$("#button-trailer-original").removeClass("active"),l($("#trailer-dubbed"))}),$("#button-sort-title").click(function(){u(this,"sort-title",p)}),$("#button-sort-date").click(function(){u(this,"sort-date",v)}),$("#button-sort-imdb").click(function(){u(this,"sort-imdb",f)}),$("#button-sort-kinopoisk").click(function(){u(this,"sort-kinopoisk",h)}),$("#button-sort-screenings").click(function(){u(this,"sort-screenings",m)}),$("#button-sort-language").click(function(){u(this,"sort-language",g)}),$("#button-morning").click(function(){b(this,"morning")}),$("#button-day").click(function(){b(this,"day")}),$("#button-evening").click(function(){b(this,"evening")}),$("#button-all-day").click(function(){b(this,"all-day")}),$("button.show-button").click(function(){var t=$(this).closest(".movie-plate-table").next("div").find("table");n(t),t.find("img:first").unveil(0);var e=$(this).children(":first");e.toggleClass("fa-plus"),e.toggleClass("fa-minus")}),$("#button-movies").click(function(){$("#tab-movies").show(),$("#tab-screenings").hide(),$("#button-movies").addClass("active"),$("#button-screenings").removeClass("active")}),$("#button-screenings").click(function(){$("#tab-screenings").show(),$("#tab-movies").hide(),$("#button-screenings").addClass("active"),$("#button-movies").removeClass("active")}),$(document).ready(function(){d($("#button-all-day")),w="all-day",C=x,$(T).slider("value",x),c($("#button-sort-title")),y="sort-name",s($("#button-trailer-original")),P="trailer-original",$("#button-group-trailers").show(),l($("#trailer-original")),$("#trailer-original").show(),$("#trailers").show(),$("#filters").show(),k(),window.setInterval(function(){k()},12e4),$("#button-screenings").addClass("active"),$(".movie-poster-mobile img.poster").unveil(300),$(window).scrollTop($(window).scrollTop()+1),$(window).scrollTop($(window).scrollTop()-1),$("#button-sort-imdb").click()})});