function rambler(t,e,n){return ticketManager.hallPlanV2(t,e,n),!1}$(function(){function t(t){return t==T?"любая":t+" руб."}function e(t,e){"undefined"==typeof e&&(e=1e3),t.addClass("hidden")}function n(t,e){"undefined"==typeof e&&(e=1e3),t.removeClass("hidden")}function i(t,e){"undefined"==typeof e&&(e=1e3),t.toggleClass("hidden")}function r(){$("td.cell-screenings").each(function(){a($(this))||o($(this))?e($(this)):n($(this))}),$("tr.row-entity").each(function(){0==$(this).find("td.cell-screenings").not(".hidden").size()?e($(this)):n($(this))}),$(".header-day").each(function(){0==$(this).next("table").find("tr.row-entity").not(".hidden").size()?(e($(this)),e($(this).next("table"))):(n($(this)),n($(this).next("table")))}),0==$(".header-day").not(".hidden").size()?n($("#nothing-found")):e($("#nothing-found"))}function a(t){return price=t.attr("attr-price"),(price>P||"undefined"==typeof price)&&T>P}function o(t){return time=t.attr("attr-time-of-day"),!("all-day"==y||time==y)}function s(t){var e=["#button-trailer-original","#button-trailer-dubbed"];e.forEach(function(t){$(t).removeClass("active")}),$(t).addClass("active")}function l(t){$(t).find('iframe[src="about:blank"]').prop("src",function(){return $(this).data("src")})}function c(t){var e=["#button-sort-title","#button-sort-date","#button-sort-imdb","#button-sort-kinopoisk","#button-sort-screenings","#button-sort-next-screening","#button-sort-language"];e.forEach(function(t){$(t).removeClass("active")}),$(t).addClass("active")}function u(t,e,n){c(t),buttonSortPressedPrev=F,F=e,F!=buttonSortPressedPrev&&$("#movie-plates .movie-plate").sort(n).appendTo("#movie-plates"),C()}function d(t){var e=["#button-morning","#button-day","#button-evening","#button-all-day"];e.forEach(function(t){$(t).removeClass("active")}),$(t).addClass("active")}function b(t,e){d(t),buttonFilterPressedPrev=y,y=e,y!=buttonFilterPressedPrev&&r()}function f(t,e){var n=["attr-imdb","attr-kinopoisk"],i=parseFloat($(t).attr(n[0])),r=parseFloat($(e).attr(n[0]));return i==r&&(i=parseFloat($(t).attr(n[1])),r=parseFloat($(e).attr(n[1]))),i>r?-1:1}function v(t,e){var n=["attr-kinopoisk","attr-imdb"],i=parseFloat($(t).attr(n[0])),r=parseFloat($(e).attr(n[0]));return i==r&&(i=parseFloat($(t).attr(n[1])),r=parseFloat($(e).attr(n[1]))),i>r?-1:1}function h(t,e){var n=["attr-created"],i=parseInt($(t).attr(n[0])),r=parseInt($(e).attr(n[0]));return i>r?-1:1}function p(t,e){var n=["attr-language"],i=$(t).attr(n[0]).toLowerCase(),r=$(e).attr(n[0]).toLowerCase();return i?r?i==r?g(t,e):r>i?-1:1:-1:1}function g(t,e){var n=["attr-title"],i=$(t).attr(n[0]).toLowerCase(),r=$(e).attr(n[0]).toLowerCase();return r>i?-1:1}function m(t,e){var n=["attr-next-screening"],i=parseInt($(t).attr(n[0])),r=parseInt($(e).attr(n[0]));return r>i?-1:1}function k(t,e){var n=["attr-screenings"],i=parseInt($(t).attr(n[0])),r=parseInt($(e).attr(n[0]));return i>r?-1:1}function w(){$("a.price-button:not(.disabled)").each(function(){timestamp=parseInt($(this).parent().attr("attr-time")),current=(new Date).getTime()/1e3,!isNaN(timestamp)&&1800>timestamp-current&&$(this).addClass("disabled")})}function C(){$(window).scrollTop($(window).scrollTop()+1),$(window).scrollTop($(window).scrollTop()-1)}var y,P,F,x,I=100,T=600,S=50,L="#price-slider";$(L).slider({value:T,min:I,max:T,step:S,slide:function(e,n){$("#ticket-price").text(t(n.value))},change:function(e,n){$("#ticket-price").text(t(n.value)),priceSliderValuePrev=P,P=n.value,priceSliderValuePrev!=P&&r()}}),$("#button-trailer-original").click(function(){$("#trailer-original").show(),$("#trailer-dubbed").hide(),$("#button-trailer-original").addClass("active"),$("#button-trailer-dubbed").removeClass("active"),l($("#trailer-dubbed"))}),$("#button-trailer-dubbed").click(function(){$("#trailer-dubbed").show(),$("#trailer-original").hide(),$("#button-trailer-dubbed").addClass("active"),$("#button-trailer-original").removeClass("active"),l($("#trailer-dubbed"))}),$("#button-sort-title").click(function(){u(this,"sort-title",g)}),$("#button-sort-date").click(function(){u(this,"sort-date",h)}),$("#button-sort-imdb").click(function(){u(this,"sort-imdb",f)}),$("#button-sort-kinopoisk").click(function(){u(this,"sort-kinopoisk",v)}),$("#button-sort-next-screening").click(function(){u(this,"sort-next-screening",m)}),$("#button-sort-screenings").click(function(){u(this,"sort-screenings",k)}),$("#button-sort-language").click(function(){u(this,"sort-language",p)}),$("#button-morning").click(function(){b(this,"morning")}),$("#button-day").click(function(){b(this,"day")}),$("#button-evening").click(function(){b(this,"evening")}),$("#button-all-day").click(function(){b(this,"all-day")}),$("button.show-button").click(function(){var t=$(this).closest(".movie-plate-table").next("div").find("table");i(t),t.find("img:first").unveil(0);var e=$(this).children(":first");e.toggleClass("fa-plus"),e.toggleClass("fa-minus")}),$("#button-movies").click(function(){$("#tab-movies").show(),$("#tab-screenings").hide(),$("#button-movies").addClass("active"),$("#button-screenings").removeClass("active")}),$("#button-screenings").click(function(){$("#tab-screenings").show(),$("#tab-movies").hide(),$("#button-screenings").addClass("active"),$("#button-movies").removeClass("active")}),$(document).ready(function(){d($("#button-all-day")),y="all-day",P=T,$(L).slider("value",T),c($("#button-sort-title")),F="sort-name",s($("#button-trailer-original")),x="trailer-original",$("#button-group-trailers").show(),l($("#trailer-original")),$("#trailer-original").show(),$("#trailers").show(),$("#filters").show(),w(),window.setInterval(function(){w()},12e4),$("#button-screenings").addClass("active"),$(".movie-poster-mobile img.poster").unveil(300),C(),$("#button-sort-imdb").click()})});